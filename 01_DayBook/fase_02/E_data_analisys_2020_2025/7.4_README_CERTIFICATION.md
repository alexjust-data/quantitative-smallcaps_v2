# SmallCaps Data Certification Suite

**Objetivo:** certificar científicamente que tus datasets cumplen los **pensamientos fundacionales** y son **aptos para backtesting** sin sesgos ni leakage.

## Contenido

```
smallcaps_data_cert_suite/
├── checks/
│   ├── _utils.py
│   ├── a01_inventory.py
│   ├── a02_schema.py
│   ├── a03_tick2bar_conservation.py
│   ├── a04_labels_logic.py
│   ├── a05_weights_stats.py
│   ├── a06_universe_pti.py
│   ├── a06b_filings_dilution.py
│   ├── a07_reproducibility.py
│   ├── a08_split_purging.py
│   ├── a09_events_schema.py
│   ├── a10_events_lineage.py
│   └── a11_events_consistency.py
├── schemas/
│   ├── events_schema.json
│   └── reference_schema.json
├── config/
│   └── example_paths.yaml
└── README_CERTIFICATION.md
```

## Requisitos

- Python 3.10+
- `pip install polars pyarrow numpy`

## Ejecución (PowerShell ejemplo)

```powershell
$env:SC_ROOT="D:/04_TRADING_SMALLCAPS"
$env:SC_REPORTS="$env:SC_ROOT/reports/audits"
mkdir $env:SC_REPORTS

python checks/a01_inventory.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a01_inventory.json"
python checks/a02_schema.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a02_schema.json"
python checks/a03_tick2bar_conservation.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a03_tick2bar.json" --sample 500 --tol 0.001
python checks/a04_labels_logic.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a04_labels.json"
python checks/a05_weights_stats.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a05_weights.json" --gini_max 0.9 --eps_sum 1e-6
python checks/a06_universe_pti.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a06_universe_pti.json" --mc_max 2000000000 --float_max 100000000 --pmin 0.5 --pmax 20.0 --volmin 500000 --chgmin 0.15
python checks/a06b_filings_dilution.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a06b_filings.json" --window_days 10
python checks/a07_reproducibility.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a07_repro.json"
python checks/a08_split_purging.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a08_split.json" --purge 50
python checks/a09_events_schema.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a09_events_schema.json"
python checks/a10_events_lineage.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a10_events_lineage.json"
python checks/a11_events_consistency.py --root "$env:SC_ROOT" --out "$env:SC_REPORTS/a11_events_consistency.json"
```

## GO/NO-GO

**GO** si:
1. A01–A11 = PASS
2. Conservación tick→barra < 0.1%
3. Universo *point‑in‑time* cumple marketcap/float/precio/vol/%chg/exchange
4. Filings de dilución trazados
5. Σ weights = 1 y Gini < 0.9
6. Split sin leakage (purge ≥ 50)
7. Eventos ML (esquema/lineage/consistencia) OK
