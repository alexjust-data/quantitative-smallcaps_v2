Excelente pregunta ‚Äî y muy pertinente si lo que buscas es **certificar cient√≠ficamente** tus datos sin depender de vendors comerciales.
Vamos a ir directo al grano, con rigor de nivel acad√©mico (WRDS-style), y te doy todas las opciones **gratuitas o cuasi-gratuitas con validez cient√≠fica.**

---

## üß≠ 1. Qu√© significa ‚Äúfuente oficial‚Äù en ciencia de datos financieros

En investigaci√≥n acad√©mica o en hedge funds, los datos considerados **‚Äúoficiales‚Äù o ‚Äúground truth‚Äù** provienen de:

* **SIP Consolidated Tapes (CTA, UTP)** ‚Üí feeds regulados por la SEC y FINRA.
* **TAQ (Trade and Quote)** de **WRDS / NYSE** ‚Üí base hist√≥rica consolidada de esos SIPs.
* **Nasdaq Data Link Academic / Quandl** ‚Üí acceso simplificado a extractos del SIP.

El problema es que **los feeds SIP y TAQ completos son de pago** porque est√°n sujetos a licencias regulatorias (SEC Plan Participants).
Pero s√≠ existen **alternativas gratuitas o open academic mirrors** que pueden servir como referencia cient√≠fica v√°lida.

---

## üß™ 2. Fuentes gratuitas o acad√©micas con garant√≠as cient√≠ficas

| Fuente                                                                       | Qu√© ofrece                                                                                               | Nivel de validez cient√≠fica                          | Gratuita                                     |
| ---------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- | ---------------------------------------------------- | -------------------------------------------- |
| **Wharton Research Data Services (WRDS) - Public Datasets**                  | Ofrece conjuntos p√∫blicos derivados de TAQ o CRSP, por ejemplo ‚ÄúWRDS SEC Analytics Suite ‚Äì Open Sample‚Äù. | Muy alta (usada en papers).                          | ‚úÖ parcialmente (acceso libre a samples).     |
| **Nasdaq Data Link (antiguo Quandl)**                                        | Ofrece datasets gratuitos de alta calidad: EOD prices, fundamentals, algunos intrad√≠a (delayed).         | Alta                                                 | ‚úÖ algunos gratuitos                          |
| **IEX Cloud Free Tier**                                                      | Datos de mercado reales de la bolsa IEX (exchange regulado por la SEC).                                  | Media-Alta (fuente primaria)                         | ‚úÖ gratis (limitado a 12 meses)               |
| **CBOE One / BZX Historical Summary**                                        | Agregados minuto/d√≠a de su propio exchange.                                                              | Alta (SEC-regulated exchange)                        | ‚úÖ limitados (summary gratis, full feed pago) |
| **University data mirrors (Harvard Dataverse, Kaggle Datasets, SSRN links)** | Extractos de TAQ/CRSP para papers reproducibles.                                                         | Alta si citados en papers revisados.                 | ‚úÖ gratis (siempre que sean subsets)          |
| **Open Exchange datasets (p. ej. LOBSTER samples)**                          | Nivel de √≥rdenes y microestructura, subset de Nasdaq LOB.                                                | Muy alta (citada por L√≥pez de Prado, Bouchaud, etc.) | ‚úÖ gratis (samples limitados)                 |

---

## üèõÔ∏è 3. Ejemplos concretos y enlaces √∫tiles

1. **WRDS ‚ÄúTAQ Sample‚Äù p√∫blico (Wharton School)**

   * Sitio: [https://wrds-www.wharton.upenn.edu/pages/data/free-sample-data/](https://wrds-www.wharton.upenn.edu/pages/data/free-sample-data/)
   * Contiene archivos CSV derivados de TAQ (minuto o tick).
   * Puedes usarlos directamente con el `vendor=csv` del script.
   * Validaci√≥n cient√≠fica: m√°xima, porque son los mismos est√°ndares SIP.

2. **Nasdaq Data Link ‚Äì Free datasets**

   * Sitio: [https://data.nasdaq.com/search?filters=%7B%22free%22:true%7D](https://data.nasdaq.com/search?filters=%7B%22free%22:true%7D)
   * Ejemplo: `NASDAQOMX/NQ` (index data), `WIKI/PRICES` (hist√≥rico ajustado).
   * No tick-by-tick, pero sirven para contrastar OHLCV minuto/d√≠a.

3. **IEX Exchange Official API**

   * Sitio: [https://iextrading.com/developer/docs/](https://iextrading.com/developer/docs/)
   * Datos de un exchange **real**, regulado, bajo la SEC.
   * Ideal para validaci√≥n ‚Äúpeer-to-peer‚Äù con Polygon.
   * Acceso gratis ‚Üí 50k llamadas/mes en plan b√°sico.

4. **LOBSTER (Technical University of Berlin)**

   * Sitio: [https://lobsterdata.com/info/DataSamples.php](https://lobsterdata.com/info/DataSamples.php)
   * Ofrece muestras gratuitas del order book oficial de Nasdaq.
   * Alt√≠simo valor cient√≠fico (usado en papers de market microstructure).

---

## üß© 4. C√≥mo integrarlas en tu auditor√≠a

Usa el vendor `csv` del script y a√±ade estos datasets en tu carpeta de referencia:

```
references/
‚îú‚îÄ‚îÄ WRDS_TAQ_sample/
‚îÇ   ‚îú‚îÄ‚îÄ AAPL/date=2024-05-17/minute.csv
‚îÇ   ‚îî‚îÄ‚îÄ AMC/date=2024-05-17/minute.csv
‚îî‚îÄ‚îÄ LOBSTER_sample/
    ‚îî‚îÄ‚îÄ AAPL/date=2024-05-17/minute.csv
```

Luego ejecutas:

```bash
python verify_against_references.py \
  --symbols AAPL,AMC \
  --dates 2024-05-17 \
  --vendors polygon,csv \
  --csv-root "D:/references/WRDS_TAQ_sample" \
  --our-minute-root "D:/04_TRADING_SMALLCAPS/processed/minute" \
  --out reports/report_wrds_comparison.json
```

As√≠ tendr√°s una **comparaci√≥n Polygon vs WRDS_TAQ (oficial)** sin pagar licencias.

---

## üìö 5. D√≥nde documentar la validez cient√≠fica

En el informe final (`INDEPENDENT_DATA_REPORT.md`), puedes incluir un ap√©ndice con esta nota metodol√≥gica:

> **Nota metodol√≥gica**:
> Los datos de referencia utilizados (WRDS_TAQ, IEX, Nasdaq Data Link) derivan de fuentes acad√©micas o exchanges regulados.
> Se consideran ‚Äúoficiales‚Äù bajo las definiciones de los SIP CTA/UTP Planes y son aceptados como ground truth en la literatura acad√©mica (ver L√≥pez de Prado, *Advances in Financial Machine Learning*, 2018).

---

## ‚úÖ 6. Conclusi√≥n pr√°ctica

| Objetivo                               | Fuente recomendada       | Coste               |
| -------------------------------------- | ------------------------ | ------------------- |
| Validaci√≥n institucional reproducible  | **WRDS TAQ sample**      | Gratis              |
| Validaci√≥n ‚Äúlive peer‚Äù (exchange real) | **IEX Cloud**            | Gratis              |
| Comparaci√≥n multi-feed acad√©mica       | **WRDS + IEX + Polygon** | Gratis / bajo coste |
| Microestructura (nivel orden)          | **LOBSTER sample**       | Gratis (subset)     |

---


# Free

A√±ad√≠ soporte **WRDS/TAQ** (gratuito si usas muestras p√∫blicas o extractos acad√©micos) a la auditor√≠a multi-vendor.


## Qu√© hace el nuevo `wrds_client.py`

* Lee **trades TAQ** desde `trades.csv` y agrega a **1-minuto** en UTC con OHLCV.
* Soporta columnas t√≠picas de TAQ:

  * precio: `price|prc|trade_price|p`
  * tama√±o: `size|shares|qty|s`
  * tiempo: `time_m` (ms desde medianoche) o `timestamp|time`.
* **Sale-condition filtering**: puedes incluir/excluir c√≥digos (p. ej. `@` = Regular Sale).
* Si ya tienes `minute.csv`, lo usa directamente.

## Estructura esperada (WRDS/TAQ local)

```sh
{WRDS_ROOT}/{SYMBOL}/date=YYYY-MM-DD/trades.csv
# o
{WRDS_ROOT}/{SYMBOL}/date=YYYY-MM-DD/minute.csv
```

## C√≥mo ejecutar con WRDS/TAQ

Comparar tus minute bars con un CSV derivado de TAQ:

```
python verify_against_references.py \
  --symbols AAPL,AMC \
  --dates 2024-05-17 \
  --vendors wrds \
  --wrds-root "D:/references/WRDS_TAQ" \
  --wrds-include "@" \
  --wrds-exclude "" \
  --our-minute-root "D:/04_TRADING_SMALLCAPS/processed/minute" \
  --out reports/report_wrds_minute.json
```

## Notas clave

* **Zona horaria**: convierte `time_m` desde **US/Eastern a UTC** autom√°ticamente.
* **Elegibilidad**: si no hay columna de sale-condition, se aceptan todos los trades.
* **Tolerancias**: por defecto precio 0.2% y volumen 5%; ajusta con `--price-tol` y `--vol-tol`.
* Puedes combinar vendors: `--vendors polygon,wrds` o `polygon,iex,wrds`.


