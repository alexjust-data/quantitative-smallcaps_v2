

# Contexto general: por qu√© existe el ‚Äúuniverso din√°mico info-rich‚Äù

En tu proyecto **Small Caps / Pump & Dump Detection**, el objetivo es **detectar autom√°ticamente los d√≠as y tickers donde realmente hay ‚Äúacci√≥n‚Äù**,
es decir, los momentos de *explosi√≥n informativa y de liquidez* donde se forman los patrones del *Playbook*.

Estos d√≠as concentran casi toda la se√±al √∫til para:

* tus setups manuales (*Gap & Go, VWAP Reclaim, First Red Day, Overextended Gap Down, Late Day Fade...*),
* y para los modelos ML (*Pump vs. Dump classifiers, meta-labeling, reinforcement loops*).

üëâ Por eso **no descargamos ticks de todo el universo**, sino solo de los activos **‚Äúinformativamente ricos‚Äù**
(que exhiben se√±ales estad√≠sticas de inter√©s: anomal√≠as de volatilidad, volumen, y flujo monetario).

---

## 1. Estrategias fundacionales que originan los filtros

Tus estrategias **long y short** (extra√≠das de tus archivos fundacionales y del PlayBook de Stocks Trading Club)
son las que definieron los tres filtros principales: `RVOL`, `%chg`, y `Dollar Volume`.

| Grupo                      | Setup                                                                                                           | Tipo            | Qu√© mide                                                    | Qu√© queremos detectar                                                      |
| -------------------------- | --------------------------------------------------------------------------------------------------------------- | --------------- | ----------------------------------------------------------- | -------------------------------------------------------------------------- |
| **Momentum / Long**        | **Gap & Go**, **VWAP Reclaim**, **Red to Green**, **Bounce Play**, **Continuation Day**                         | Long            | ruptura de volatilidad y aumento repentino de participaci√≥n | d√≠as de *pumps iniciales* o *continuaciones* donde el activo se ‚Äúenciende‚Äù |
| **Reversal / Short**       | **First Red Day**, **Overextended Gap Down (OGD)**, **Late Day Fade (LDF)**, **Gap & Crap**, **Failure Bounce** | Short           | agotamiento tras euforia y diluci√≥n posterior               | d√≠as de *pumps agotados* o *supernovas* que comienzan a romper soporte     |
| **Fundamental / Contexto** | **Dilution Traps**, **ATM/PIPE Offerings**, **Reverse Splits**, **SSR**                                         | Neutral ‚Üí Short | manipulaci√≥n estructural de microcaps                       | d√≠as con riesgo extremo pero con se√±ales visuales similares a pumps        |

üî¨ En todos esos patrones, el detonante observable en datos es **una combinaci√≥n de:**

1. **Volumen an√≥malo** ‚Üí detectado v√≠a `RVOL` (Relative Volume).
2. **Movimiento porcentual extremo** ‚Üí detectado v√≠a `|%chg|`.
3. **Flujo monetario significativo** ‚Üí detectado v√≠a `Dollar Volume`.

---

## 2. Traducci√≥n de las estrategias a variables cuantitativas

| Variable                   | Descripci√≥n cuantitativa         | Conexi√≥n directa con estrategias                                                                                                                |
| -------------------------- | -------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------- |
| **RVOL (Relative Volume)** | `vol_d / mean(vol_d, window=30)` | Detecta actividad ‚Äúan√≥mala‚Äù en relaci√≥n a los √∫ltimos 30 d√≠as. <br>Se dispara en todos los *pumps*, *reclaims*, *gap & go*, y *first red days*. |
| **%chg diario**            | `(close_t / close_t-1 - 1)`      | Identifica *runners* o *collapse days*. <br>Ejemplo: +15% o -15% define los umbrales de reversi√≥n y continuaci√≥n.                               |
| **Dollar Volume**          | `Œ£(volume √ó VWAP)`               | Filtra *microcaps zombis* con vol√∫menes irrelevantes. <br>Solo activos con ‚â• $5M en flujo diario tienen *liquidez real* y riesgo institucional. |

Estos tres filtros se aplican **simult√°neamente**, porque los patrones de Small Caps tienen una estructura mixta:

* Pueden moverse mucho sin volumen (falsos pumps),
* o tener volumen alto sin cambio de precio (rotaci√≥n silenciosa),
* pero *solo cuando se alinean los tres* hay un *evento de informaci√≥n real*.

---

## 3. Correspondencia exacta con el Playbook (resumen operativo)

| Setup (de tu PlayBook)          | Se√±al inicial en datos                                   | Filtro activado                                                |      |                     |
| ------------------------------- | -------------------------------------------------------- | -------------------------------------------------------------- | ---- | ------------------- |
| **Gap & Go**                    | Gaps > +10‚Äì15% + aumento s√∫bito de volumen               | `%chg ‚â• 0.15` y `RVOL ‚â• 2`                                     |      |                     |
| **VWAP Reclaim**                | Precio recupera VWAP tras flush, volumen alto en rebote  | `RVOL ‚â• 2`, `DollarVol ‚â• $5M`                                  |      |                     |
| **First Red Day**               | Ca√≠da >15% tras varios d√≠as verdes con vol alto          | `%chg ‚â§ -0.15`, `RVOL ‚â• 2`                                     |      |                     |
| **Late Day Fade (LDF)**         | Precio se desinfla tras pump matinal con vol decreciente | `RVOL ‚â• 2`, `DollarVol ‚â• $5M`                                  |      |                     |
| **Overextended Gap Down (OGD)** | Gap bajista tras super-rally                             | `                                                              | %chg | ‚â• 0.15`, `RVOL ‚â• 2` |
| **Bounce/Failure Bounce**       | Rebote t√©cnico con volumen relativo > 2x                 | `RVOL ‚â• 2`                                                     |      |                     |
| **Dilution/ATM Trap**           | Spikes falsos en tickers con filings recientes           | `%chg ‚â• 0.15`, `DollarVol ‚â• $5M` (m√°s feature EDGAR posterior) |      |                     |

De hecho, los tres umbrales que fijamos (RVOL‚â•2, |%chg|‚â•15%, $-vol‚â•$5M)
**se derivan directamente de los rangos t√≠picos de estos setups**, observados en tus screenshots y PDF fundacionales.

---

## 4. Referencias cient√≠ficas y bibliogr√°ficas

Los filtros no son arbitrarios: est√°n respaldados por la literatura acad√©mica y pr√°ctica m√°s s√≥lida en *market microstructure & anomaly detection*:

| Fuente                                                                                               | Concepto t√©cnico relacionado                            | C√≥mo se traduce                                                  |
| ---------------------------------------------------------------------------------------------------- | ------------------------------------------------------- | ---------------------------------------------------------------- |
| **Marcos L√≥pez de Prado (2018)** ‚Äî *Advances in Financial Machine Learning*, Ch. 1                   | *Event-based sampling* (bars activados por informaci√≥n) | Dollar/volume bars y selecci√≥n por RVOL ‚âà informaci√≥n nueva      |
| **Easley, L√≥pez de Prado & O‚ÄôHara (2012)** ‚Äî *Flow Toxicity and Liquidity in a High-Frequency World* | VPIN y *flow imbalance*                                 | Volumen y flujo monetario como proxies de informaci√≥n asim√©trica |
| **Barroso & Santa-Clara (2015)** ‚Äî *Momentum has its Moments*                                        | Filtrado de *explosive regimes* por volatilidad         | El filtro `%chg` detecta los mismos ‚Äúmomentum bursts‚Äù            |
| **Khandani & Lo (2007)** ‚Äî *What Happened to the Quants*                                             | Overcrowded trades y anomal√≠as de liquidez              | Dollar-volume como se√±al de saturaci√≥n informativa               |
| **Chordia, Roll & Subrahmanyam (2008)** ‚Äî *Liquidity Dynamics and Cross-Autocorrelation*             | Liquidez an√≥mala correlacionada con retornos futuros    | Justifica el uso de `RVOL` y `DollarVol` como proxy de alpha     |
| **L√≥pez de Prado (2020)** ‚Äî *The Science of Trading* (unpublished lectures)                          | Reg√≠menes estructurales y *information bursts*          | Base te√≥rica para ‚Äúinfo-rich filtering‚Äù en pipelines ML.         |

---

## 5. Qu√© conseguimos con este filtro

‚úÖ **Reducir el universo de 3,600 a ~100‚Äì400 tickers/d√≠a**,
sin perder ning√∫n evento significativo.

‚úÖ **Evitar sesgo de supervivencia:**
usamos un universo amplio sin filtrar, pero etiquetamos por fecha real.

‚úÖ **Dirigir la descarga tick-level y los modelos ML solo hacia d√≠as relevantes.**

‚úÖ **Alinear los datos con la teor√≠a de L√≥pez de Prado:**
*muestreo por informaci√≥n, no por tiempo.*

---

## 6. Resultado final del paso 3

El paso ‚Äúuniverso din√°mico info-rich‚Äù es, por tanto:

**La capa de inteligencia que selecciona qu√© tickers y d√≠as merecen tick-level.**

üì¶ Su output (`processed/universe/info_rich/daily/`) es literalmente **tu ‚ÄúWatchlist computacional‚Äù**,
id√©ntica en esp√≠ritu a tu *watchlist manual diaria de traders de Small Caps*.

Y el `topN_12m.csv` es tu **hist√≥rico de runners recurrentes**:
sirve para detectar los tickers con *personalidad vol√°til recurrente* (p.ej., `GNS`, `AIKI`, `HKD`, `TOPS`, `DRYS`, `BBIG`, `COSM`).

---

¬øQuieres que te prepare el bloque siguiente (‚Äúetiquetado triple-barrier sobre estos d√≠as info-rich‚Äù)
para convertir este universo en dataset de entrenamiento (pumps/dumps, reversi√≥n/continuaci√≥n)?
‚Äî ser√≠a el **Paso 4 del pipeline cient√≠fico** seg√∫n L√≥pez de Prado y tu PlayBook.






